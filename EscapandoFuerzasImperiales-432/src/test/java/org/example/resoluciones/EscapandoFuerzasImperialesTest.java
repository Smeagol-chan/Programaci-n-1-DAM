package org.example.resoluciones;

import org.junit.jupiter.api.Test;

import java.io.ByteArrayInputStream;

import static org.junit.jupiter.api.Assertions.*;

class EscapandoFuerzasImperialesTest {

    @Test
    void solicitudMapa()
    {
        String[][] matriz1 = {
                {".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "F", ".", "*", ".", ".", ".", ".", ".", "."},
                {".", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", "*", "."},
                {".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", "*", ".", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", "."},
                {"*", ".", "*", "*", "*", ".", "*", "*", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", "*", ".", "*", ".", "*", "*", ".", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", "*", "*", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", ".", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", "*", "*", "*", ".", ".", ".", ".", ".", ".", ".", "*", "*"},
                {".", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", "*", ".", ".", ".", ".", ".", "*", ".", "."},
                {".", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", ".", ".", "*"},
                {".", ".", ".", ".", "*", "*", ".", ".", "*", "*", "*", "*", "*", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", "*", ".", ".", "*", ".", ".", ".", "*", "*", ".", "*", "*", "*", "*", "*", "*"},
                {"*", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", "*", ".", ".", ".", ".", "*"},
                {"*", "*", "*", ".", "*", "*", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", ".", ".", ".", "."},
                {".", ".", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", ".", "*", ".", ".", ".", "S", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."}
        };
        int[] coor1 = {18, 17};

        String[][] matriz2 = {
                {".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", "."},
                {".", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", "*", "."},
                {".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", "*", ".", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", "."},
                {"*", ".", "*", "*", "*", ".", "*", "*", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", "*", ".", "*", ".", "*", "*", ".", ".", ".", ".", "*", "F", "*", ".", "*", ".", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", "*", "*", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", ".", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", "*", "*", "*", ".", ".", ".", ".", ".", ".", ".", "*", "*"},
                {".", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", "*", ".", ".", ".", ".", ".", "*", ".", "."},
                {".", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", ".", ".", "*"},
                {".", ".", ".", ".", "*", "*", ".", ".", "*", "*", "*", "*", "*", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", "*", ".", ".", "*", ".", ".", ".", "*", "*", ".", "*", "*", "*", "*", "*", "*"},
                {"*", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", "*", ".", ".", ".", ".", "*"},
                {"*", "*", "*", ".", "*", "*", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", ".", ".", ".", "."},
                {"S", ".", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", ".", "*", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."}
        };
        int[] coor2 = {18, 0};

        String[][] matriz3 = {
                {".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "F", ".", "*", ".", ".", ".", ".", ".", "."},
                {".", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", "*", "."},
                {".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", "*", ".", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", "."},
                {"*", ".", "*", "*", "*", ".", "*", "*", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", "*", ".", "*", ".", "*", "*", ".", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", "*", "*", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", ".", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", "*", "*", "*", ".", ".", ".", ".", ".", ".", ".", "*", "*"},
                {".", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", "*", ".", ".", ".", ".", ".", "*", ".", "."},
                {".", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", ".", ".", "*"},
                {".", ".", ".", ".", "*", "*", ".", ".", "*", "*", "*", "*", "*", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", "*", ".", ".", "*", ".", ".", ".", "*", "*", ".", "*", "*", "*", "*", "*", "*"},
                {"*", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", "*", ".", ".", ".", ".", "*"},
                {"*", "*", "*", ".", "*", "*", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", ".", ".", ".", "."},
                {".", ".", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", ".", "*", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."}
        };
        int[] coor3 = {-1, 0};

        String[][] matriz4 = {
                {".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", "."},
                {".", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", "*", "."},
                {".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", "*", ".", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", "."},
                {"*", ".", "*", "*", "*", ".", "*", "*", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", "*", ".", "*", ".", "*", "*", ".", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", "*", "*", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", ".", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", "*", "*", "*", ".", ".", ".", ".", ".", ".", ".", "*", "*"},
                {".", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", "*", ".", ".", ".", ".", ".", "*", ".", "."},
                {".", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", ".", ".", "*"},
                {".", ".", ".", ".", "*", "*", ".", ".", "*", "*", "*", "*", "*", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", "*", ".", ".", "*", ".", ".", ".", "*", "*", ".", "*", "*", "*", "*", "*", "*"},
                {"*", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", "*", ".", ".", ".", ".", "*"},
                {"*", "*", "*", ".", "*", "*", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", ".", ".", ".", "."},
                {".", ".", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", ".", "*", ".", ".", ".", "S", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."}
        };
        int[] coor4 = {18, 17};

        assertAll(() -> assertTrue(SolutionAceptaReto.recorridoViable(matriz1.clone(), coor1, 20, 20)),
                () -> assertFalse(SolutionAceptaReto.recorridoViable(matriz2.clone(), coor2, 20, 20)),
                () -> assertFalse(SolutionAceptaReto.recorridoViable(matriz3.clone(), coor3, 20, 20)),
                () -> assertFalse(SolutionAceptaReto.recorridoViable(matriz4.clone(), coor4, 20, 20)));
    }

    @Test
    void recorridoViable()
    {
        String entrada = "...........F.*......\n" +
                ".**********.*.....*.\n" +
                "........*...*.*.....\n" +
                "*.*****.*.**...**...\n" +
                "*.*.....*........*..\n" +
                "*.***.***.**...**...\n" +
                "*..*..*.....*.*.....\n" +
                "**.*.**....*.*.*....\n" +
                "*..*..***.*.*.*.*...\n" +
                "*.*..**...**...**...\n" +
                "*.****.**.*.........\n" +
                "*.......***.......**\n" +
                ".......*.***.....*..\n" +
                ".****.*......*.**..*\n" +
                "....**..*****.......\n" +
                "*...*..*...**.******\n" +
                "**.....*.*.*..*....*\n" +
                "***.**...*.*.*......\n" +
                "...*.*.*.*...*...S..\n" +
                "*........*..........";
        System.setIn(new ByteArrayInputStream(entrada.getBytes()));

        String[][] mTest = new String[20][20];
        String[][] matrizTesteo = {
                {".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "F", ".", "*", ".", ".", ".", ".", ".", "."},
                {".", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", "*", "."},
                {".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", "*", ".", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", "."},
                {"*", ".", "*", "*", "*", ".", "*", "*", "*", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", ".", ".", ".", "."},
                {"*", "*", ".", "*", ".", "*", "*", ".", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", ".", "."},
                {"*", ".", ".", "*", ".", ".", "*", "*", "*", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", "."},
                {"*", ".", "*", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", ".", "*", "*", ".", ".", "."},
                {"*", ".", "*", "*", "*", "*", ".", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", "*", "*", "*", ".", ".", ".", ".", ".", ".", ".", "*", "*"},
                {".", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", "*", ".", ".", ".", ".", ".", "*", ".", "."},
                {".", "*", "*", "*", "*", ".", "*", ".", ".", ".", ".", ".", ".", "*", ".", "*", "*", ".", ".", "*"},
                {".", ".", ".", ".", "*", "*", ".", ".", "*", "*", "*", "*", "*", ".", ".", ".", ".", ".", ".", "."},
                {"*", ".", ".", ".", "*", ".", ".", "*", ".", ".", ".", "*", "*", ".", "*", "*", "*", "*", "*", "*"},
                {"*", "*", ".", ".", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", "*", ".", ".", ".", ".", "*"},
                {"*", "*", "*", ".", "*", "*", ".", ".", ".", "*", ".", "*", ".", "*", ".", ".", ".", ".", ".", "."},
                {".", ".", ".", "*", ".", "*", ".", "*", ".", "*", ".", ".", ".", "*", ".", ".", ".", "S", ".", "."},
                {"*", ".", ".", ".", ".", ".", ".", ".", ".", "*", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."}
        };
        int[] cSTest = new int[2];
        String[][] mapa = SolutionAceptaReto.solicitudMapa(mTest.clone(), 20, 20, cSTest);

        assertArrayEquals(matrizTesteo, mapa);
    }

    @Test
    void finalizarPrograma() {
    }
}